JavaScript snippet to bookmark in a browser to clear the cache for qBittorrent Web UI and reload the page forcefully:

🔖 Bookmarklet: Clear Cache & Reload
Create a new bookmark in your browser (name it e.g. "qB Clear & Reload").

In the URL field, paste this exact code:

javascript:(async()=>{if('caches'in window){const keys=await caches.keys();for(const key of keys)await caches.delete(key);}localStorage.clear();sessionStorage.clear();indexedDB.databases&&indexedDB.databases().then(dbs=>{for(const db of dbs)indexedDB.deleteDatabase(db.name);});location.reload(true);})();

✅ What it clears: caches (service worker caches), localStorage, sessionStorage, indexedDB (browser-side DB qBittorrent might use).
Force-reloads the page

⚠️ If you have saved settings (like UI layout or login), they may be wiped — it's a full reset of frontend data for that tab.

________________________________


The following is a safer version of the bookmarklet that:

🛑 Does NOT clear login/auth cookies or localStorage
✅ Just clears volatile frontend data like cached scripts (which are often the problem)

🔖 Bookmarklet: Minimal Clear & Reload (Safe for Login)
Paste this into the URL field of a new bookmark:

javascript:(async()=>{if('caches'in window){const keys=await caches.keys();for(const key of keys)await caches.delete(key);}sessionStorage.clear();location.reload(true);})();

✅ What it clears:
caches → removes outdated JS/CSS files
sessionStorage → removes short-lived frontend state (like hidden filters)
Leaves localStorage and indexedDB intact → so login and UI prefs are preserved

Use this if you want to "jiggle loose" the Web UI without wiping everything.

Let me know if you'd like a version that also reloads after a short delay or adds a confirmation prompt.

_________________________________

Perfect — here's a full-featured bookmarklet with:

✅ A confirmation prompt before doing anything

⏱ A 1-second delay before reload

💡 Only clears script caches + session state (keeps login intact)

🔖 Bookmarklet: Confirmed + Delayed + Safe
javascript
Copy
Edit
javascript:(async()=>{if(confirm("Clear qBittorrent UI cache and reload?")){if('caches'in window){const keys=await caches.keys();for(const key of keys)await caches.delete(key);}sessionStorage.clear();setTimeout(()=>location.reload(true),1000);}})();
📝 What It Does:
Asks: "Clear qBittorrent UI cache and reload?"

On confirmation:

Clears service worker cache (JS/CSS)

Clears sessionStorage (temporary UI state)

Waits 1 second, then reloads with location.reload(true)

You can name it something like qB UI Fix and save it to your bookmarks bar for fast access.

Would you like a matching one that fully clears everything, just in case?

____________________

Here’s the full wipe version of the bookmarklet — it clears everything that the browser can touch related to the qBittorrent Web UI:

🔖 Bookmarklet: Full Clear (Login, UI settings, cache — everything)
javascript
Copy
Edit
javascript:(async()=>{if(confirm("FULL RESET of qBittorrent UI (includes login)?")){if('caches'in window){const keys=await caches.keys();for(const key of keys)await caches.delete(key);}localStorage.clear();sessionStorage.clear();if(indexedDB.databases){const dbs=await indexedDB.databases();for(const db of dbs)indexedDB.deleteDatabase(db.name);}setTimeout(()=>location.reload(true),1000);}})();
🧹 What It Clears:
✅ Service worker/cache

✅ localStorage (includes UI layout, login state)

✅ sessionStorage

✅ indexedDB (any site-specific database)

🔁 Reloads after 1 second

Use this one if you want to "nuke and reset" the UI completely — especially helpful after a qBittorrent container update or config reset.

Want both versions as clickable HTML buttons for a dashboard or admin page?

____________________

Here's an HTML snippet with two buttons you can use in a local admin dashboard or bookmark as a .html file. Each button runs one of the two bookmarklet actions:

📄 HTML: qBittorrent UI Cache Tools
html
Copy
Edit
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>qBittorrent UI Cache Tools</title>
  <style>
    body { font-family: sans-serif; background: #f4f4f4; padding: 2em; }
    button {
      font-size: 1rem;
      padding: 0.75em 1.5em;
      margin: 1em;
      border: none;
      border-radius: 0.5em;
      cursor: pointer;
    }
    .safe { background-color: #4caf50; color: white; }
    .full { background-color: #f44336; color: white; }
  </style>
</head>
<body>
  <h1>qBittorrent Web UI Cache Tools</h1>
  <button class="safe" onclick="safeClear()">Safe Clear (Keep Login)</button>
  <button class="full" onclick="fullClear()">Full Reset (Wipe Everything)</button>

  <script>
    async function safeClear() {
      if (confirm("Clear qBittorrent UI cache and reload?")) {
        if ('caches' in window) {
          const keys = await caches.keys();
          for (const key of keys) await caches.delete(key);
        }
        sessionStorage.clear();
        setTimeout(() => location.reload(true), 1000);
      }
    }

    async function fullClear() {
      if (confirm("FULL RESET of qBittorrent UI (includes login)?")) {
        if ('caches' in window) {
          const keys = await caches.keys();
          for (const key of keys) await caches.delete(key);
        }
        localStorage.clear();
        sessionStorage.clear();
        if (indexedDB.databases) {
          const dbs = await indexedDB.databases();
          for (const db of dbs) indexedDB.deleteDatabase(db.name);
        }
        setTimeout(() => location.reload(true), 1000);
      }
    }
  </script>
</body>
</html>
🛠 How to Use:
Save this as a file: qbtools.html

Open it in any browser

Click:

✅ Safe Clear — resets UI glitches, keeps login

🔥 Full Reset — nukes all saved browser-side data

Want me to add options like showing current localStorage/sessionStorage keys for debugging?
